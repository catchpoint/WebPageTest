{
  "name": "jog",
  "version": "0.4.0",
  "description": "JSON logging & reporting",
  "keywords": [
    "json",
    "log",
    "loggly"
  ],
  "author": {
    "name": "TJ Holowaychuk",
    "email": "tj@learnboost.com"
  },
  "repository": {
    "type": "git",
    "url": "git://github.com/visionmedia/jog.git"
  },
  "bin": {
    "jog": "./bin/jog"
  },
  "dependencies": {
    "debug": "*",
    "redis": "0.7.1",
    "commander": "0.5.2",
    "ms": "0.1.0"
  },
  "devDependencies": {
    "mocha": "*",
    "should": "*",
    "JSONSelect": "*",
    "canvas": "*"
  },
  "main": "index",
  "engines": {
    "node": "*"
  },
  "readme": "\n# jog\n\n  JSON logging & reporting inspired by Loggly.\n\n## Installation\n\n    $ npm install jog\n\n## Features\n\n  - namespace support\n  - rich json documents\n  - log levels\n  - file store\n  - redis store\n  - document streaming\n  - tail -f like streaming\n  - CLI to tail and map / reduce logs\n\n## API\n\n### log.write(level, type[, obj])\n\n  Write to the logs:\n\n```js\nlog.write(level, type[, obj])\nlog.debug(type[, obj])\nlog.info(type[, obj])\nlog.warn(type[, obj])\nlog.error(type[, obj])\n```\n\n### log.ns(obj)\n\n  Namespace with the given `obj`, returning a new `Jog` instance\n  inheriting previous properties. You may call this several times\n  to produce more and more specific loggers.\n\n```js\nvar log = jog(new jog.FileStore('/tmp/log'));\n\n// log a user 5\nlog = log.ns({ uid: 5 });\n\n// log video id 99 for user 5\nlog = log.ns({ vid: 99 });\n\n// or both at once\nlog = log.ns({ uid: 5, vid: 99 });\n```\n\n### log.stream(options)\n\n  Return an `EventEmitter` emitting \"data\" and \"end\" events.\n\n   - `end` when __false__ streaming will not end\n   - `interval` the interval at which to poll (store-specific)\n\n### log.clear(callback)\n\n  Clear the logs and invoke the callback.\n\n## Example\n\n  Log random data using the `FileStore` and tail the file\n  for changes (typically in different processes). Jog will add\n  the `.level` and `.type` properties for you.\n\n```js\nvar jog = require('jog')\n  , log = jog(new jog.FileStore('/tmp/tail'))\n  , id = 0;\n\n// generate random log data\nfunction again() {\n  log.info('something happened', { id: ++id, user: 'Tobi' });\n  setTimeout(again, Math.random() * 100 | 0);\n}\n\nagain();\n\n// tail the json \"documents\"\nlog.stream({ end: false, interval: 500 })\n  .on('data', function(obj){\n    console.log(obj);\n  });\n```\n\nyields:\n\n```js\n{ id: 1,\n  level: 'info',\n  type: 'something happened',\n  timestamp: 1332907641734 }\n{ id: 2,\n  level: 'info',\n  type: 'something happened',\n  timestamp: 1332907641771 }\n...\n```\n\n## jog(1)\n\n```\n\n  Usage: jog [options]\n\n  Options:\n\n    -h, --help          output usage information\n    -V, --version       output the version number\n    -w, --within <ms>   filter events to within the given <ms>\n    -t, --type <name>   filter using the given type <name>\n    -l, --level <name>  filter using the given level <name>\n    -f, --ignore-eof    do not stop on EOF\n    -F, --file <path>   load from the given <path>\n    -R, --redis         load from redis store\n    -s, --select <fn>   use the given <fn> for filtering\n    -m, --map <fn>      use the given <fn> for mapping\n    -r, --reduce <fn>   use the given <fn> for reducing\n    -c, --color         color the output\n    -j, --json          output JSON (--color will not work)\n\n```\n\n### Examples\n\n  View all logs from tobi. The `_` object for the function\n  bodies of `--select` and `--map` represents the current\n  document, it's all just javascript.\n\n```\njog --file /tmp/jog --select \"_.user == 'tobi'\"\n[ { user: 'tobi',\n    duration: 1000,\n    level: 'info',\n    type: 'rendering video',\n    timestamp: 1332861272100 },\n  { user: 'tobi',\n    duration: 2000,\n    level: 'info',\n    type: 'compiling video',\n    timestamp: 1332861272100 },\n...\n```\n\n  Filter video compilation durations from \"tobi\" only:\n  \n```\n$ jog --file /var/log/videos.log --select \"_.user == 'tobi'\" --map _.duration\n[ 1000, 2000, 1200, 1000, 2000, 1200 ]\n```\n\n  Flags can be used several times:\n\n```\njog --file /var/log/videos.log --select \"_.vid < 5\" --map _.type --map \"_.split(' ')\"\n[ [ 'compiling', 'video' ],\n  [ 'compiling', 'video' ],\n  [ 'compiling', 'video' ],\n  [ 'compiling', 'video' ] ]\n```\n\n  Tail errors only, with color:\n\n```\n$ jog --file my.log -f -c --select '_.level == \"error\"'\n{ level: 'error',\n  type: 'something broke',\n  timestamp: 1333943982669 }\n```\n\n  Display error messages within the last 10 seconds:\n\n```\n$ jog -F my.log --level error --select \"Date.now() - _.timestamp < 10000\" --map _.type\n[ 'something broke', 'something broke', 'something broke' ]\n```\n\n  Events within the last 10 minutes, 5 seconds, and 200ms:\n\n```\n$ jog -F my.log --within 10m\n$ jog -F my.log --within 5s\n$ jog -F my.log --within 200\n```\n\n## Stores\n\n  By default Jog ships with the `FileStore` and `RedisStore`, however anything\n  with the following methods implemented will work:\n  \n    - `add(obj)` to add a log object\n    - `stream() => EventEmitter` to stream data\n    - `stream({ end: false }) => EventEmitter` to stream data indefinitely\n    - `clear(fn)` to clear the logs\n\n### FileStore(path)\n\n  Store logs on disk.\n\n```js\nvar jog = require('jog');\nvar log = jog(new jog.FileStore('/var/log/videos.log'));\n```\n\n### RedisStore([client])\n\n  Store logs in redis.\n\n```js\nvar jog = require('jog');\nvar log = jog(new jog.RedisStore);\n```\n\n## Performance\n\n  No profiling or optimizations yet but the `FileStore` can\n  stream back 250,000 documents (~21MB) in 1.2 seconds on my\n  macbook air.\n\n  The `RedisStore` with 250,000 documents streamed back\n  in 2.8 seconds on my air.\n\n## Running tests\n\n```\n$ npm install\n$ redis-server &\n$ make test\n```\n\n## License \n\n(The MIT License)\n\nCopyright (c) 2012 LearnBoost &lt;tj@learnboost.com&gt;\n\nPermission is hereby granted, free of charge, to any person obtaining\na copy of this software and associated documentation files (the\n'Software'), to deal in the Software without restriction, including\nwithout limitation the rights to use, copy, modify, merge, publish,\ndistribute, sublicense, and/or sell copies of the Software, and to\npermit persons to whom the Software is furnished to do so, subject to\nthe following conditions:\n\nThe above copyright notice and this permission notice shall be\nincluded in all copies or substantial portions of the Software.\n\nTHE SOFTWARE IS PROVIDED 'AS IS', WITHOUT WARRANTY OF ANY KIND,\nEXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\nMERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.\nIN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY\nCLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT,\nTORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE\nSOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.",
  "_id": "jog@0.4.0",
  "dist": {
    "shasum": "c3ff236598b69a3db735011b592f2e2ee6d47171"
  },
  "_from": "jog"
}
